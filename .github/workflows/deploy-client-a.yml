# ⚠️ DEPRECATED: Este workflow ha sido reemplazado por deploy-client-heladitos.yml
# Por favor, migra a la nueva estructura estandarizada.
# Ver: .github/workflows/MIGRATION.md para más información
# Este archivo será eliminado después de completar la migración.
# DESHABILITADO: Ya no se ejecuta automáticamente

name: Deploy to Client A

on:
  # DISABLED - Use deploy-client-heladitos.yml instead
  # push:
  #   branches: [ master ]
  workflow_dispatch:
    inputs:
      force:
        description: 'Force deployment'
        required: false
        default: false
        type: boolean

jobs:
  deploy_backend:
    runs-on: ubuntu-latest
    environment: heladitos
    
    steps:
    - name: Deploy Backend to Client A VPS
      uses: appleboy/ssh-action@v1.0.3
      with:
        host: ${{ secrets.VPS_HOST }}
        port: ${{ secrets.VPS_PORT }}
        username: ${{ secrets.VPS_USERNAME }}
        key: ${{ secrets.VPS_SSH_KEY }}
        script: ~/deploy-backend-heladitos.sh
          
    - name: Notify backend deployment
      if: always()
      run: |
        echo "Client A backend deployment completed"

  deploy_frontend:
    runs-on: ubuntu-latest
    environment: heladitos
    
    steps:
    - name: Deploy Frontend to Client A VPS
      uses: appleboy/ssh-action@v1.0.3
      with:
        host: ${{ secrets.VPS_HOST }}
        port: ${{ secrets.VPS_PORT }}
        username: ${{ secrets.VPS_USERNAME }}
        key: ${{ secrets.VPS_SSH_KEY }}
        script: ~/deploy-frontend-heladitos.sh
          
    - name: Notify frontend deployment
      if: always()
      run: |
        echo "Frontend deployment completed"
