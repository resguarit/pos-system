name: üé£ Deploy - Heroe del Whisky (Webhook Trigger)

# Este workflow se activa cuando el servidor hace un POST a GitHub webhook
# El servidor ejecuta el deployment localmente cuando recibe el webhook

on:
  repository_dispatch:
    types: [heroe-deploy-backend, heroe-deploy-frontend, heroe-deploy-all]
  workflow_dispatch:
    inputs:
      deploy_type:
        description: 'Tipo de deployment'
        required: true
        default: 'all'
        type: choice
        options:
          - all
          - backend
          - frontend

jobs:
  notify_server:
    name: Notify Server - Heroe
    runs-on: ubuntu-latest
    environment: heroedelwhisky
    
    steps:
    - name: Notify Deployment Trigger
      run: |
        echo "üé£ Webhook triggered for Heroe del Whisky"
        echo "Deployment type: ${{ github.event.action || github.event.inputs.deploy_type }}"
        echo ""
        echo "‚ö†Ô∏è  NOTA: Este workflow solo notifica."
        echo "El deployment real debe ejecutarse desde el servidor usando:"
        echo "  - GitHub webhook endpoint configurado en el servidor"
        echo "  - O manualmente desde el servidor ejecutando el script de deploy"

